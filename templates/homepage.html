{% extends 'index.html' %}

{% block title %}Homepage{% endblock %}

{% block content %}

<h1>Hello</h1>

<div>
    {% if "current_user" not in session %}
        <form action="/handle-login" method="POST">
            <label>Email:</label>
            <input type="text" name="email" required>
            <label>Password:</label>
            <input type="password" name="password" required>
            <input type="submit" value="Login">
        </form>  

        <form class="login-user" action="/new">
        <label>New User?</label>
        <input type="submit" value="Register">
        </form>
    {% endif %}
    {% if "current_user" in session %}
        <h3>
            Welcome, {{ user.username.title() }} 
            <a href="/goodbye"><button>Logout</button></a>
        </h3>
        <a href="/user/{{ user.user_id }}">ðŸ—“ View your account details</a>
    {% endif %}
</div>
<br>
<div>
    <!-- <span></span> -->
    <form class="inline-button" action="/search">
        <input type="submit" value="Search for events" name="search-button" id="search-button">
        <select name="city">
            {% for location in locations %}
                <option value="{{ location.cityname }}">{{ location.cityname }}</option>
            {% endfor %}
        </select>
        <input type="text" name="keyword" placeholder="keyword">
        <input type="date" name="date" placeholder="yyyy-mm-dd">
    </form>
</div>

<hr class="div-line"></hr>

<div id="home-events-section">
    <div class="liked-response"></div>
    <div class="event-item">
        {% for event in events %}
            <a href="/event/{{ event.event_id }}">
                {{ event.overview }}
            </a>
            ðŸ’–
            <span id="like-counter">
                {{ likes[loop.index-1] }}
            </span>
            <br>
            {% if event.image %}
                <img class="tm-img" src="{{ event.image }}" alt="image of event">
            {% endif %}
            <br>
        {% endfor %}   
    </div>
    

</div>



{% endblock %}